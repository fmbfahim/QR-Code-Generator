<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home School QR Code Generator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="containar">
        <h1>HOME SCHOOL</h1>
        <p> Enter your text OR URL</p>
        <input type="text" placeholder="Text or URL"  id="qrText">

        <div class="code">

            <div id="imgBox">
                <img src="" id="qrImage">
            </div>

        </div>

        <button onclick="GenerateQR()">Generate QR Code</button>
            <!-- Add this button below your existing button -->
<button onclick="DownloadQR()">Download QR Code</button>


    </div>

    <script>

        let imgBox = document.getElementById("imgBox");
        let qrImage = document.getElementById("qrImage");
        let qrText = document.getElementById("qrText");
        
        function GenerateQR(){

            if(qrText.value.length > 0){
            qrImage.src = "https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=" + qrText.value;
            imgBox.classList.add("show-img");
            }
        else{
            qrText.classList.add('error');
            setTimeout(()=>{
                qrText.classList.remove('error');
            }, 1000);
}
            
        }

    </script> 

<script>
    function DownloadQR() {
        // Get the QR code image URL
        const qrImageUrl = qrImage.src;

        // Create a temporary anchor element
        const link = document.createElement('a');
        link.href = qrImageUrl;
        link.download = 'my_qr_code.png'; // Set the desired filename

        // Trigger a click event to download the image
        link.click();
    }
</script>
   
</body>
</html>